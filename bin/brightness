#!/usr/local/bin/perl

use strict; use warnings;
use List::Util qw(first);

my $current_level=`sysctl -n hw.acpi.video.lcd0.brightness`;
chomp $current_level;
my $up = shift() eq 'up';
my @levels = qw(1 3 5 10 15 20 25 30 40 50 65 80 100);

my $current = first { $levels[$_] >= $current_level } keys @levels;
my $next = $current + ($up ? 1 : -1);

if ($next >= 0 && $next < @levels) {
	my $next_level = $levels[$next];
	print `sysctl hw.acpi.video.lcd0.brightness=$next_level`;
}
